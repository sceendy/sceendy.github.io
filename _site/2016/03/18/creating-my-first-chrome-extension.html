<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Building a Chrome Extension | Cindy Juarez </title>
  <meta name="description" content="For the past couple of months, I’ve been focused on building a personal project on the side. At some point, I realized that I could build a Chrome Extension ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://sceendy.com/2016/03/18/creating-my-first-chrome-extension.html">
  <link rel="alternate" type="application/rss+xml" title="Cindy Juarez" href="http://sceendy.com/feed.xml">

  <link rel="icon" type="image/png" href="/assets/favicon.png">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel='stylesheet' type='text/css'>
</head>


  <body>

    <div class="container">
  <header class="row">
    <div class="column-one">
      <div class="u--text-center">
        <img src="/assets/cindy.jpg" alt="Cindy Juarez" class="img--circle-lg">
        <h1 class="u--text-pink">Hi, I'm Cindy Juarez,</h1>
        <h2 class="headline">a Texas-based frontend engineer.</h2>
      </div>
    </div>
  </header>
  <div class="row">
    <nav class="column-one">
      <ul class="nav" role="navigation">
        
        <li class="nav__list-item">
          
            
              <a class="nav__link" href="/about/">About</a>

            
          
          </li>
        
        <li class="nav__list-item">
          
          </li>
        
        <li class="nav__list-item">
          
          </li>
        
        <li class="nav__list-item">
          
            
              <a class="nav__link" href="/work/">Work</a>

            
          
          </li>
        
        <li class="nav__list-item">
          
            <a class="nav__link" href="/">Blog</a>
          
        </li>
      </ul>
    </nav>
  </div>
</div>


    <div class="container">
      <article class="component-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="row">
    <header class="column-one u--text-gray">
      <h2>Building a Chrome Extension</h2>
      <time datetime="2016-03-18T14:37:00-05:00" itemprop="datePublished">Mar 18, 2016</time>
    </header>
  </div>
  <div class="row">
    <section class="column-one">
      <p>For the past couple of months, I’ve been focused on building a personal project on the side. At some point, I realized that I could build a Chrome Extension as a tool to be utilized for this app so hey, why not learn a bit about the chrome.* APIs?</p>

<p>First off, let me say, it is some very well written documentation that you will appreciate. Right away, the docs tell you all the basic files you need and give you some boilerplate code to get started. Also included are some downloadable examples that vary in complexity. It will be helpful if you are already familiar with HTML/CSS/JavaScript, btw. Within the hour, I had a functional extension and wanted to share how to get started on your own:</p>

<p><img src="/assets/chrome-extension_sm.png" alt="Chrome Extension" /></p>

<p>For this project, let’s make a Chrome Extension that can help you bookmark locations you want to visit which you will store for future use. Later you can hook it up to be sent to your database you have or some sort of Firebase-y service.</p>

<p>First, call in Chromes’ API to grab some basic info from the page. In this case, you want the title of the page which is often the name of the location and the URL so you can visit the site again if you need to which will be using the Chrome Tabs API. These items will be pre-filled into the form on the popup for your extension as seen above as soon as you click on your logo.</p>

<p>You’ll keep your popup-specific JS in a file named popup.js and then your JS related to the page itself will be named content.js. It’s important that you keep these <a href="https://developer.chrome.com/extensions/content_scripts" target="_blank">separate</a>.</p>

<iframe width="100%" height="300" src="//jsfiddle.net/sceendy/qrg0Lrx9/embedded/js,html/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>One thing to keep in mind while building a Chrome Extension is that you <a href="https://developer.chrome.com/extensions/contentSecurityPolicy" target="_blank">can’t add inline JS to the HTML document</a> (for security reasons). For instance, you will see I am adding an event listener to the <span class="code-inline">addAddressBtn</span> element to make it clickable. Moving along, we will be using the <a href="https://developer.chrome.com/extensions/tabs" target="_blank">Chrome Tabs API</a> to interact with the browser tabs – this is for querying ‘tabs’ and assigning the url and title to variables.</p>

<p>Then, we store the value of the current tabs’ title to place into the <span class="code-inline">#page-title</span> field and the url into the <span class="code-inline">#page-url</span> field. Boom, half done. Now, let’s get into passing messages!</p>

<p>Next, we want to allow the user to select the address text of the location and once they have our extension popup open, they will find that they can easily paste it into the Address field. Since there is no real pattern online for mailing addresses, this is how we will handle it for our extension.</p>

<iframe width="100%" height="300" src="//jsfiddle.net/sceendy/m02kbt4a/embedded/js/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>This function queries the Chrome Tabs API again, this time, we are passing messages between the extension and the content script. Below, the <span class="code-inline">content.js</span> file here is listening (using <span class="code-inline">chrome.tabs.onMessage</span>) for a message (JSON object) from the popup.js file (using <span class="code-inline">chrome.tabs.sendMessage</span>)and then handles it.</p>

<iframe width="100%" height="250" src="//jsfiddle.net/sceendy/sb9v4m1a/embedded/js,html/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>As it gets the current selection in the window, it turns it into a string to be sent back to the popup and pasted onto the textarea field. Now, you have an extension that you can hook up to your choice of backend to store this information and view it!</p>

      <small><strong>post related to:</strong> 
         <span>javascript  +</span>
       
         <span>api  </span>
       </small>
      <h4 class="u--text-center heading-blue-border">Have a question or comment?<br/>Ask me anything: <a href="http://twitter.com/home?status=@sceendy">@sceendy</a></h4>
    </section>
  </div>
  
  <div id="disqus_thread"></div>
  <script>
      var disqus_config = function () {
        this.page.url = 'http://www.sceendy.com/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };

      (function () {  // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');

        s.src = '//sceendyblog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  

</article>

    </div>

    <footer>
  <p u--text-center>email me: <span class="u--text-pink">sceendy[at]gmail.com</span></p>
</footer>

<script>
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-25355768-1');ga('send','pageview');
  </script>


  </body>

</html>
